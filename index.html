<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>//1!!!
        var wordCounter = function(text) {
            text = text.match(/[a-zA-Z']+/g);
            if(!text){
                return {count: 0};
            } 
            let words = {};
            text.forEach(x => {
                if(words[x]){
                    words[x]++;
                } 
                else{
                words[x] = 1;
                } 
            });
  
            return {count: word => words[word] || 0}
        };

    </script>

    <script>//2!!!
        function myAuntSally(str) {
            return  str.split(' ')
            .filter(w => (w.match(/([a-z])\1+/i) || [''])[0].length == 2)
            .join(' ');
        }
    </script>

    <script>//3???
        let listWords = ['MONKEY', 'TOMATO', 'BOOK', 'LOCAL', 'CRUSH', 'FIRST', 'KEY', 'PUSH'];
        function getLongestWord(text){
            let countLetters = 0;
            let inputArray = [];
            for(let i = 0; i < listWords.length; i++){
                let word = listWords[i];             
                    for(let j = 0; j < word.length; j++){
                        if(text.includes(word[j]))
                        {
                            countLetters++;
                        }
                        if(countLetters == word.length + 1)
                        {
                            inputArray.push(word);
                        }
                    } 
            }

            return inputArray.join(" ");
        }

        console.log("Обратный отсчёт");
        console.log(getLongestWord("WEKYP"));
    </script>

    <script>//4!!!
        function pushString(text, str){
           return `${text} ${str}`;
        }
    </script>

    <script>//5!!!
        function getShaffledArray(){
                let newArray = array.sort(function(){
                    return Math.random() - 0.5;
                });

            return newArray;
        }
    </script>

    <script>//6!!!
        const sumAverage = (arr) => {
            let result = 0;
            for(let i = 0; i < arr.length; i++){
                let sum = 0;
                let partOfArray = arr[i];
                for(let j = 0; j < partOfArray.length; j++){
                    sum += partOfArray[j];
                }

                result += (sum / partOfArray.length);
            }

            return Math.floor(result);
        }       
    </script>

    <script>//7!!!
        function spEng(sentence){
            return sentence.toUpperCase()
            .includes("english".toUpperCase()) ? true : false;
        }
    </script>
        
    <script>//8!!!
        function searchEng(string,searchWord,searchMethod,newWord) {
            if ( /[^a-z0-9]/i.test(searchWord) || /[^a-z0-9]/i.test(newWord) || (searchMethod != 1 && searchMethod != 2) ){
                return 'No valid input';
            }
            let res = {}; 
            const pattern = new RegExp('\\b' + searchWord + '\\b' ,'g');
  
            if (searchMethod === 1) {
                res.matches = (string.match(pattern) || []).length;
                res.newString = '';
            }
  
            if (searchMethod === 2) {
                res.matches = (string.match(pattern) || []).length;
                res.newString = string.replace(pattern, newWord);
            }
  
            return res;
        }
    </script>

    <script>//9!!!
        function checkExam(array1, array2) {
            let mark = 0;
            for(let i = 0; i < array1.length; i++){
                if(array2[i] == array1[i]){
                    mark += 4;
                }
                else if(array2[i] == ""){
                    mark;
                }
                else if(array1[i] != array2[i]){
                   mark --;
                }
            }

            return mark < 0 ? 0 : mark;;
        }   
    </script>

    <script>//10!!!
        function inter(s1, s2){
            A = new Set();
            s1.forEach(element => {
                if(s2.has(element)){
                    A.add(element);
                }
            });

            return A;
        }
    </script>

    <script>//11!!!
        function areEqual(s1, s2){
            let count = 0;
            if(s1.size === s2.size){
               if(Array.from(s1).every(element => s2.has(element))){
                  return true;
                }
            }
            else{ 
              return false;
            }   
        }

        function notEqual(s1, s2){
            return !areEqual(s1, s2);
        }
    </script>

    <script>//12!!!    
        Array.prototype.sort = function () { 
            return [...(new Int32Array(this)).sort()] 
        }
    </script>

    <script>//13!!!
        var Queue = function() {
            this.queue = [];   
        };

        Queue.prototype.enqueue = function(item) {
            return this.queue.push(item);
        };

        Queue.prototype.dequeue = function() {
            return this.queue.shift();
        };

        Queue.prototype.size = function() {
            return this.queue.length;
        };
    </script>

    <script>//14!!!
        function sumOfDifferences(arr) {
            arr.sort((a,b) => b - a);
            let sum = 0;
            for (let i = 0; i < arr.length - 1; i++) {
                sum += arr[i] - arr[i + 1];
            }
            return sum;
        }
    </script>
        
    <script>//15!!!
        function yearDays(year){
            if(year == 0) return `${year} has 366 days`

            if(year%100 == 0 && year%400 !== 0) return `${year} has 365 days`

            if(year%4 !== 0) return `${year} has 365 days`

            return `${year} has 366 days`
        }
    </script>
</body>
</html>